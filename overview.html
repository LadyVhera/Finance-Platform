<!-- =================== HERO =================== -->
<header id="home" class="hero hero--pro" aria-label="About TPT" data-bg-video="./assets/video/community.mp4"
    data-bg-fallback="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=80&w=2000&auto=format&fit=crop">
    <!-- Media layer -->
    <div class="hero__media" aria-hidden="true">
        <video class="hero__video" playsinline muted loop preload="auto"></video>
        <div class="hero__image"></div>
    </div>

    <!-- Overlay stack -->
    <div class="hero__overlay hero__overlay--vignette" aria-hidden="true"></div>
    <div class="hero__overlay hero__overlay--brandglow" aria-hidden="true"></div>
    <div class="hero__overlay hero__overlay--grain" aria-hidden="true"></div>
    <div class="hero__blob" aria-hidden="true"></div>

    <div class="container hero__content">
        <div class="row align-items-center g-4">
            <div class="col-lg-7" data-aos="fade-right">
                <span class="eyebrow badge-soft">ABOUT TPT</span>

                <h1 class="hero__title">
                    Community, Dignity, <span class="accent">Action</span>
                </h1>

                <p class="hero__lead">
                    A platform by Mexicans for Mexicansâ€”building a community-led alternative
                    to reduce suffering and restore financial dignity.
                </p>

                <div class="hero__ctas mt-4 d-flex flex-wrap gap-2">
                    <a class="btn btn-lg btn-primary glow-btn" href="#how">How to get help</a>
                    <a class="btn btn-lg btn-outline-light" href="#governance">Governance</a>
                    <button class="btn btn-link text-white" data-bs-toggle="modal"
                        data-bs-target="#founderModal">Founder</button>
                </div>

                <!-- Trust badges -->
                <div class="hero__trust mt-4 d-flex flex-wrap align-items-center gap-3">
                    <span class="muted tiny">Community-led</span>
                    <i class="bi bi-dot text-white-50"></i>
                    <span class="muted tiny">Transparent</span>
                    <i class="bi bi-dot text-white-50"></i>
                    <span class="muted tiny">People-first</span>
                </div>

                <!-- KPIs -->
                <div class="kpis mt-4" role="list">
                    <div class="kpi glass" role="listitem" data-aos="fade-up" data-aos-delay="50">
                        <div class="kpi__value counter" data-count="200000000">0</div>
                        <div class="kpi__label muted small">Participants (claimed)</div>
                    </div>
                    <div class="kpi glass" role="listitem" data-aos="fade-up" data-aos-delay="100">
                        <div class="kpi__value counter" data-count="118">0</div>
                        <div class="kpi__label muted small">Countries</div>
                    </div>
                    <div class="kpi glass" role="listitem" data-aos="fade-up" data-aos-delay="150">
                        <div class="kpi__value counter" data-count="30">0</div>
                        <div class="kpi__label muted small">% Felicidad growth (claimed)</div>
                    </div>
                </div>
            </div>

            <div class="col-lg-5 d-none d-lg-block" data-aos="zoom-in">
                <figure class="glass hero__figure">
                    <img src="./asserts/images/black-family-enjoying-summer-together-backyard.jpg"
                        alt="Neighbors gathering together in community" width="560" height="420" loading="eager"
                        decoding="async" />
                    <figcaption class="tiny muted px-3 py-2">Together, we lift each other.</figcaption>
                </figure>
            </div>
        </div>
    </div>

    <!-- Scroll cue -->
    <button class="scroll-cue" aria-label="Scroll to next section"
        onclick="document.querySelector('#how')?.scrollIntoView({behavior:'smooth'})">
        <i class="bi bi-chevron-down"></i>
    </button>
</header>

<style>
    /* ===== Brand tokens (inherits your existing ones) ===== */
    :root {
        /* you already have these in your theme; here as fallbacks */
        --accent1: #00e0ff;
        --accent2: #0072ff;
        --muted: #e2e6ec;
        --glass: linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, .03));
    }

    /* ===== Layout ===== */
    .hero--pro {
        position: relative;
        min-height: clamp(72vh, 86vh, 96vh);
        display: flex;
        align-items: center;
        padding-top: calc(var(--nav-offset, 100px) + 12px);
        overflow: hidden;
        isolation: isolate;
    }

    /* Media layer */
    .hero__media {
        position: absolute;
        inset: 0;
        z-index: 0;
    }

    .hero__video,
    .hero__image {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .hero__video {
        display: none;
        filter: brightness(.35) contrast(.98) saturate(.95);
    }

    .hero__image {
        background-size: cover;
        background-position: center;
        transform: scale(1.06);
        filter: brightness(.28) contrast(.98) saturate(.95);
    }

    /* Overlays */
    .hero__overlay {
        position: absolute;
        inset: 0;
        z-index: 1;
        pointer-events: none;
    }

    .hero__overlay--vignette {
        background:
            radial-gradient(140% 100% at 50% 120%, rgba(0, 0, 0, .55) 0%, transparent 60%),
            linear-gradient(180deg, rgba(0, 0, 0, .08), rgba(2, 6, 23, .72));
    }

    .hero__overlay--brandglow {
        background:
            radial-gradient(1100px 420px at 12% 22%, rgba(0, 224, 255, .10), transparent 40%),
            radial-gradient(900px 380px at 86% 24%, rgba(0, 114, 255, .08), transparent 40%);
        mix-blend-mode: screen;
    }

    .hero__overlay--grain {
        background-image: radial-gradient(rgba(255, 255, 255, .06) 1px, transparent 1px);
        background-size: 3px 3px;
        opacity: .14;
        mix-blend-mode: soft-light;
    }

    /* Floating brand blob */
    .hero__blob {
        position: absolute;
        z-index: 1;
        right: -160px;
        top: -120px;
        width: 420px;
        height: 420px;
        border-radius: 50%;
        background:
            radial-gradient(35% 35% at 30% 30%, rgba(0, 224, 255, .35), transparent 60%),
            radial-gradient(45% 45% at 70% 70%, rgba(0, 114, 255, .28), transparent 60%);
        filter: blur(22px);
        opacity: .55;
        animation: float 8s ease-in-out infinite;
    }

    @keyframes float {

        0%,
        100% {
            transform: translateY(0) translateX(0);
        }

        50% {
            transform: translateY(18px) translateX(-8px);
        }
    }

    /* Content */
    .hero__content {
        position: relative;
        z-index: 2;
    }

    .eyebrow {
        display: inline-block;
        padding: .35rem .6rem;
        border-radius: 999px;
        background: rgba(255, 255, 255, .06);
        border: 1px solid rgba(255, 255, 255, .10);
        color: #e6eef8;
        letter-spacing: .06em;
        font-weight: 800;
        font-size: .72rem;
        text-transform: uppercase;
    }

    .hero__title {
        margin-top: .6rem;
        font-size: clamp(2.2rem, 4vw, 3.6rem);
        font-weight: 900;
        line-height: 1.04;
        text-shadow: 0 8px 40px rgba(0, 0, 0, .55);
    }

    .hero__title .accent {
        background: linear-gradient(90deg, var(--accent2), var(--accent1));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
    }

    .hero__lead {
        color: var(--muted);
        max-width: 62ch;
        font-size: clamp(1rem, 1.2vw, 1.18rem);
    }

    /* Figure */
    .glass {
        background: var(--glass);
        border: 1px solid rgba(255, 255, 255, .06);
        box-shadow: 0 12px 50px rgba(2, 6, 23, .6);
        border-radius: 18px;
        padding: 0;
        overflow: hidden;
    }

    .hero__figure img {
        display: block;
        width: 100%;
        height: 440px;
        object-fit: cover;
    }

    .tiny {
        font-size: .78rem;
        opacity: .9;
    }

    /* CTAs */
    .glow-btn {
        background: linear-gradient(90deg, var(--accent2), var(--accent1));
        border: none;
        color: #021023;
        font-weight: 800;
        box-shadow: 0 6px 20px rgba(0, 112, 255, .14);
    }

    .glow-btn:hover {
        box-shadow: 0 14px 42px rgba(0, 224, 255, .22);
    }

    /* KPIs */
    .kpis {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
    }

    .kpi {
        min-width: 160px;
        padding: 16px 18px;
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, .04);
        backdrop-filter: saturate(120%) blur(6px);
        transition: transform .25s ease, box-shadow .25s ease;
    }

    .kpi:hover {
        transform: translateY(-4px);
        box-shadow: 0 16px 42px rgba(1, 9, 26, .55);
    }

    .kpi__value {
        font-size: clamp(1.6rem, 2.2vw, 2.2rem);
        font-weight: 900;
        color: var(--accent1);
    }

    .kpi__label {
        margin-top: 2px;
    }

    /* Scroll cue */
    .scroll-cue {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        bottom: 18px;
        z-index: 2;
        width: 46px;
        height: 46px;
        display: grid;
        place-items: center;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, .18);
        background: rgba(255, 255, 255, .04);
        color: #e6eef8;
        backdrop-filter: blur(4px);
    }

    .scroll-cue:hover {
        border-color: rgba(255, 255, 255, .28);
    }

    /* Responsive */
    @media (max-width: 992px) {
        .hero--pro {
            text-align: center;
        }

        .hero__figure img {
            height: 360px;
        }

        .kpis {
            justify-content: center;
        }

        .hero__blob {
            right: -220px;
            top: -160px;
            width: 520px;
            height: 520px;
            filter: blur(28px);
        }
    }

    @media (max-width: 576px) {
        .hero__figure img {
            height: 300px;
        }

        .kpi__value {
            font-size: 1.6rem;
        }

        .hero__lead {
            font-size: .98rem;
        }
    }

    /* Motion safety */
    @media (prefers-reduced-motion: reduce) {

        .hero__blob,
        .hero__image,
        .glow-btn,
        [data-aos] {
            animation: none !important;
            transition: none !important;
            opacity: 1 !important;
            transform: none !important;
        }
    }
</style>

    /* ===== Smart media loader + counters + subtle parallax ===== */
    (function () {
        const hero = document.querySelector('.hero--pro');
        if (!hero) return;

        // Media: prefer video if allowed, else fallback image
        const videoPath = hero.getAttribute('data-bg-video');
        const fallback = hero.getAttribute('data-bg-fallback');
        const v = hero.querySelector('.hero__video');
        const img = hero.querySelector('.hero__image');

        if (videoPath && window.matchMedia('(prefers-reduced-motion: no-preference)').matches) {
            v.src = videoPath;
            v.addEventListener('canplay', () => { v.style.display = 'block'; }, { once: true });
            v.play().catch(() => { /* Autoplay blocked; keep image fallback. */ });
        }
        if (fallback) {
            img.style.backgroundImage = `url('${fallback}')`;
        }

        // Counters on view
        const ease = t => 0.5 - 0.5 * Math.cos(Math.PI * t);
        function runCounter(el, end, dur = 1200) {
            const start = 0, t0 = performance.now();
            (function frame(t) {
                const p = Math.min((t - t0) / dur, 1);
                const val = Math.floor(start + (end - start) * ease(p));
                el.textContent = val.toLocaleString();
                if (p < 1) requestAnimationFrame(frame);
            })(t0);
        }
        const counters = hero.querySelectorAll('.counter[data-count]');
        if ('IntersectionObserver' in window) {
            const io = new IntersectionObserver(es => {
                es.forEach(e => {
                    if (e.isIntersecting) {
                        const el = e.target;
                        runCounter(el, +el.dataset.count);
                        io.unobserve(el);
                    }
                });
            }, { threshold: .4 });
            counters.forEach(el => io.observe(el));
        } else {
            counters.forEach(el => runCounter(el, +el.dataset.count));
        }

        // Tiny parallax on mouse move (non-mobile)
        if (window.matchMedia('(pointer:fine)').matches) {
            const media = hero.querySelector('.hero__image');
            const blob = hero.querySelector('.hero__blob');
            hero.addEventListener('mousemove', (e) => {
                const r = hero.getBoundingClientRect();
                const rx = (e.clientX - r.left) / r.width - .5;
                const ry = (e.clientY - r.top) / r.height - .5;
                if (media) media.style.transform = `scale(1.06) translate(${rx * 6}px, ${ry * 6}px)`;
                if (blob) blob.style.transform = `translate(${rx * 14}px, ${ry * 10}px)`;
            });
            hero.addEventListener('mouseleave', () => {
                if (media) media.style.transform = `scale(1.06) translate(0,0)`;
                if (blob) blob.style.transform = `translate(0,0)`;
            });
        }
    })();
